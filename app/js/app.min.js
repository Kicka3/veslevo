!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("menu-modal"),t=document.querySelector(".button-burger"),n=document.querySelector(".menu-modal__close"),a=document.getElementById("contact-modal"),o=document.querySelector(".header__button"),i=document.querySelector(".contact-modal__close");function l(){null==e||e.classList.remove("menu-modal--active"),null==a||a.classList.remove("contact-modal--active"),document.body.classList.remove("no-scroll")}null==t||t.addEventListener("click",function(t){t.stopPropagation(),l(),null==e||e.classList.add("menu-modal--active"),document.body.classList.add("no-scroll")}),null==n||n.addEventListener("click",function(){l()}),document.querySelectorAll(".menu-modal__link--has-submenu").forEach(function(e){var t=e.nextElementSibling,n=e.closest("li");t&&t.classList.contains("menu-modal__sublist")&&e.addEventListener("click",function(a){a.preventDefault(),e.classList.toggle("active"),t.classList.toggle("active"),n.classList.toggle("active")})}),document.addEventListener("click",function(n){null==e||!e.classList.contains("menu-modal--active")||e.contains(n.target)||t.contains(n.target)||l()}),null==o||o.addEventListener("click",function(){l(),null==a||a.classList.add("contact-modal--active"),document.body.classList.add("no-scroll")}),null==i||i.addEventListener("click",function(){l()}),null==a||a.addEventListener("click",function(e){e.target===a&&l()});var s=document.querySelector(".projects__hover-image"),c=document.querySelectorAll(".projects__item"),r=document.querySelector(".projects__list");function u(e){var t=e.target.value.replace(/\D/g,"");t.startsWith("7")&&(t=t.slice(1)),t.startsWith("8")&&(t=t.slice(1));var n="+7 ";(t="7"+t).length>1&&(n+="("+t.substring(1,4)),t.length>=5&&(n+=") "+t.substring(4,7)),t.length>=8&&(n+="-"+t.substring(7,9)),t.length>=10&&(n+="-"+t.substring(9,11)),e.target.value=n.trim()}function d(e){"+7"===e.target.value&&(e.target.value="")}c.forEach(function(e){e.addEventListener("mouseenter",function(t){var n=e.getAttribute("data-image");s.style.backgroundImage="url(".concat(n,")"),s.style.opacity="1",s.style.transform="scale(1) translate(-50%, -50%)",r.classList.add("dimmed"),e.classList.add("active")}),e.addEventListener("mousemove",function(e){s.style.left="".concat(e.pageX,"px"),s.style.top="".concat(e.pageY,"px")}),e.addEventListener("mouseleave",function(){s.style.opacity="0",s.style.transform="scale(0.5) translate(-50%, -50%)",r.classList.remove("dimmed"),e.classList.remove("active")})}),document.querySelectorAll(".phone-input").forEach(function(e){e.addEventListener("input",u),e.addEventListener("blur",d)}),tns({container:".hero-slider",items:1,autoplay:!0,autoplayTimeout:2e4,controls:!1,nav:!1,responsive:{640:{items:1},1024:{items:1}}});var m={currentIndex:0,images:[],modal:null,modalImage:null,thumbnails:[],mainImage:null,navArrows:null,modalNavArrows:null,modalCloseBtn:null,init:function(){this.modal=document.querySelector(".gallery__modal"),this.modalImage=document.querySelector(".gallery__modal-image"),this.thumbnails=document.querySelectorAll(".gallery__thumbnail"),this.mainImage=document.querySelector(".gallery__main-image"),this.navArrows=document.querySelectorAll(".gallery__nav-arrow"),this.modalNavArrows=document.querySelectorAll(".gallery__modal-nav-arrow"),this.modalCloseBtn=document.querySelector(".gallery__modal-close"),this.images=Array.from(this.thumbnails).map(function(e){return e.getAttribute("data-image")}),this.bindEvents(),this.updateMainImage(0)},bindEvents:function(){var e,t,n,a=this;this.thumbnails.forEach(function(e,t){e.addEventListener("click",function(){a.updateMainImage(t),a.openModal(t)})}),null===(e=this.mainImage)||void 0===e||e.addEventListener("click",function(){a.openModal(a.currentIndex)}),this.navArrows.forEach(function(e,t){e.addEventListener("click",function(e){e.stopPropagation();var n=0===t?-1:1;a.navigate(n)})}),this.modalNavArrows.forEach(function(e,t){e.addEventListener("click",function(e){e.stopPropagation();var n=0===t?-1:1;a.navigateModal(n)})}),null===(t=this.modalCloseBtn)||void 0===t||t.addEventListener("click",function(){a.closeModal()}),null===(n=this.modal)||void 0===n||n.addEventListener("click",function(e){e.target===a.modal&&a.closeModal()}),document.addEventListener("keydown",function(e){"Escape"===e.key&&a.modal.classList.contains("active")&&a.closeModal()})},updateMainImage:function(e){this.currentIndex=e,this.mainImage.src=this.images[e],this.thumbnails.forEach(function(t,n){t.classList.toggle("active",n===e)})},navigate:function(e){var t=this.currentIndex+e;t<0&&(t=this.images.length-1),t>=this.images.length&&(t=0),this.updateMainImage(t)},navigateModal:function(e){var t=this.currentIndex+e;t<0&&(t=this.images.length-1),t>=this.images.length&&(t=0),this.currentIndex=t,this.modalImage.src=this.images[t]},openModal:function(e){this.currentIndex=e,this.modalImage.src=this.images[e],this.modal.classList.add("active"),document.body.classList.add("no-scroll")},closeModal:function(){this.modal.classList.remove("active"),document.body.classList.remove("no-scroll")}};document.querySelector(".gallery")&&m.init();var v={init:function(){var e=this;document.querySelectorAll(".questions__item").forEach(function(t){var n=t.querySelector(".questions__header"),a=t.querySelector(".questions__toggle");n.addEventListener("click",function(){e.toggleItem(t)}),a.addEventListener("click",function(n){n.stopPropagation(),e.toggleItem(t)})})},toggleItem:function(e){var t=e.classList.contains("active");document.querySelectorAll(".questions__item").forEach(function(t){t!==e&&t.classList.remove("active")}),t?e.classList.remove("active"):e.classList.add("active")}};document.querySelector(".questions")&&v.init()}),window.ENV={YANDEX_MAPS_API_KEY:"6a7442fe-c9c5-4d14-9548-14ce30eb010b"}}();