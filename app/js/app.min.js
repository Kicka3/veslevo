!function(){"use strict";!function(){document.addEventListener("DOMContentLoaded",function(){var t=document.querySelectorAll(".header__menu-item");t.length>0&&t[0].classList.add("header__menu-item--active"),t.forEach(function(o){o.addEventListener("click",function(e){var n;n=o,t.forEach(function(t){t.classList.remove("header__menu-item--active")}),n.classList.add("header__menu-item--active")})});var o=document.getElementById("menu-modal"),e=document.querySelector(".button-burger"),n=document.querySelector(".menu-modal__close"),i=document.getElementById("contact-modal"),l=document.querySelector(".header__button"),s=document.querySelector(".contact-modal__close");function c(){null==o||o.classList.remove("menu-modal--active"),null==i||i.classList.remove("contact-modal--active"),document.body.classList.remove("no-scroll")}null==e||e.addEventListener("click",function(t){t.stopPropagation(),c(),null==o||o.classList.add("menu-modal--active"),document.body.classList.add("no-scroll")}),null==n||n.addEventListener("click",function(){c()}),document.querySelectorAll(".menu-modal__link--has-submenu").forEach(function(t){var o=t.nextElementSibling,e=t.closest("li");o&&o.classList.contains("menu-modal__sublist")&&t.addEventListener("click",function(n){n.preventDefault(),t.classList.toggle("active"),o.classList.toggle("active"),e.classList.toggle("active")})}),document.addEventListener("click",function(t){null==o||!o.classList.contains("menu-modal--active")||o.contains(t.target)||e.contains(t.target)||c()}),null==l||l.addEventListener("click",function(){c(),null==i||i.classList.add("contact-modal--active"),document.body.classList.add("no-scroll")}),null==s||s.addEventListener("click",function(){c()}),null==i||i.addEventListener("click",function(t){t.target===i&&c()});tns({container:".hero-slider",items:1,autoplay:!0,autoplayTimeout:2e4,controls:!1,nav:!1,responsive:{640:{items:1},1024:{items:1}}});var a={currentIndex:0,images:[],modal:null,modalImage:null,thumbnails:[],mainImage:null,navArrows:null,modalNavArrows:null,modalCloseBtn:null,init:function(){this.modal=document.querySelector(".gallery__modal"),this.modalImage=document.querySelector(".gallery__modal-image"),this.thumbnails=document.querySelectorAll(".gallery__thumbnail"),this.mainImage=document.querySelector(".gallery__main-image"),this.navArrows=document.querySelectorAll(".gallery__nav-arrow"),this.modalNavArrows=document.querySelectorAll(".gallery__modal-nav-arrow"),this.modalCloseBtn=document.querySelector(".gallery__modal-close"),this.images=Array.from(this.thumbnails).map(function(t){return t.getAttribute("data-image")}),this.bindEvents(),this.updateMainImage(0)},bindEvents:function(){var t,o,e,n=this;this.thumbnails.forEach(function(t,o){t.addEventListener("click",function(){n.updateMainImage(o),n.openModal(o)})}),null===(t=this.mainImage)||void 0===t||t.addEventListener("click",function(){n.openModal(n.currentIndex)}),this.navArrows.forEach(function(t,o){t.addEventListener("click",function(t){t.stopPropagation();var e=0===o?-1:1;n.navigate(e)})}),this.modalNavArrows.forEach(function(t,o){t.addEventListener("click",function(t){t.stopPropagation();var e=0===o?-1:1;n.navigateModal(e)})}),null===(o=this.modalCloseBtn)||void 0===o||o.addEventListener("click",function(){n.closeModal()}),null===(e=this.modal)||void 0===e||e.addEventListener("click",function(t){t.target===n.modal&&n.closeModal()}),document.addEventListener("keydown",function(t){"Escape"===t.key&&n.modal.classList.contains("active")&&n.closeModal()})},updateMainImage:function(t){this.currentIndex=t,this.mainImage.src=this.images[t],this.thumbnails.forEach(function(o,e){o.classList.toggle("active",e===t)})},navigate:function(t){var o=this.currentIndex+t;o<0&&(o=this.images.length-1),o>=this.images.length&&(o=0),this.updateMainImage(o)},navigateModal:function(t){var o=this.currentIndex+t;o<0&&(o=this.images.length-1),o>=this.images.length&&(o=0),this.currentIndex=o,this.modalImage.src=this.images[o]},openModal:function(t){this.currentIndex=t,this.modalImage.src=this.images[t],this.modal.classList.add("active"),document.body.classList.add("no-scroll")},closeModal:function(){this.modal.classList.remove("active"),document.body.classList.remove("no-scroll")}};document.querySelector(".gallery")&&a.init();var d={init:function(){var t=this;document.querySelectorAll(".questions__item").forEach(function(o){var e=o.querySelector(".questions__header"),n=o.querySelector(".questions__toggle");e.addEventListener("click",function(){t.toggleItem(o)}),n.addEventListener("click",function(e){e.stopPropagation(),t.toggleItem(o)})})},toggleItem:function(t){var o=t.classList.contains("active");document.querySelectorAll(".questions__item").forEach(function(o){o!==t&&o.classList.remove("active")}),o?t.classList.remove("active"):t.classList.add("active")}};document.querySelector(".questions")&&d.init()});var t=window.innerWidth<=980;function o(){var t;(t=document.getElementById("_bn_widget_adaptive"))&&(t.innerHTML='<a href="http://bnovo.ru/" id="_bnovo_link_" target="_blank" style="display: none;">Bnovo</a>'),document.querySelectorAll('[id*="calendar"], [id*="datepicker"], [class*="calendar"], [class*="datepicker"]').forEach(function(t){t.remove()}),document.querySelectorAll('[id*="bnovo"], [class*="bnovo"]').forEach(function(t){t.id.includes("_bn_widget_adaptive")||t.id.includes("_bnovo_link_")||t.remove()}),Bnovo_Widget.init(function(){Bnovo_Widget.open("_bn_widget_adaptive",{type:"horizontal",uid:"b453ef97-5e35-401c-875b-4700087677eb",lang:"ru",width:"100%",background:"#D5D0A1",bg_alpha:"100",padding:"20",padding_mobile:"20",border_radius:"0",font_type:"inter",title_color:"#000000",title_size:"30",without_title:"on",inp_color:"#3E5B81",inp_bordhover:"#d6d6d6",inp_bordcolor:"#d6d6d6",inp_alpha:"100",btn_background:"#737C06",btn_background_over:"#737C06",btn_textcolor:"#ffffff",btn_textover:"#ffffff",btn_bordcolor:"#737C06",btn_bordhover:"#737C06",adults_default:"1",dates_preset:"on",dfrom_tomorrow:"on",dto_nextday:"on",url:"http://veslevo.club/choose",switch_mobiles:"on",switch_mobiles_width:"980"})})}var e,n,i,l=(e=function(){var e=window.innerWidth<=980;e!==t&&(t=e,o())},n=200,function(){for(var t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];clearTimeout(i),i=setTimeout(function(){clearTimeout(i),e.apply(void 0,o)},n)});function s(t){return{photoInterval:null,currentPhotoIndex:0,currentTextIndex:0,photos:[],textItems:[],dots:[],nextButton:null,prevPhotoButton:null,nextPhotoButton:null,modal:null,modalImage:null,modalClose:null,blockId:t,wrapper:null,init:function(){this.wrapper=document.getElementById("houses-our-wrapper-".concat(this.blockId)),this.wrapper?(this.photos=this.wrapper.querySelectorAll(".houses-our__photo-item"),this.textItems=this.wrapper.querySelectorAll(".houses-our__text-item"),this.dots=this.wrapper.querySelectorAll('[data-block="'.concat(this.blockId,'"]')),this.nextButton=document.getElementById("houses-our-next-".concat(this.blockId)),this.prevPhotoButton=document.getElementById("houses-our-photo-prev-".concat(this.blockId)),this.nextPhotoButton=document.getElementById("houses-our-photo-next-".concat(this.blockId)),this.modal=document.getElementById("houses-our-modal-".concat(this.blockId)),this.modalImage=document.getElementById("houses-our-modal-image-".concat(this.blockId)),this.modalClose=document.getElementById("houses-our-modal-close-".concat(this.blockId)),console.log("Block ".concat(this.blockId," initialized:"),{photos:this.photos.length,textItems:this.textItems.length,dots:this.dots.length,nextButton:!!this.nextButton,prevPhotoButton:!!this.prevPhotoButton,nextPhotoButton:!!this.nextPhotoButton,modal:!!this.modal,modalImage:!!this.modalImage,modalClose:!!this.modalClose}),this.photos.length>0&&(this.bindEvents(),this.startPhotoAutoSlide())):console.log("Wrapper not found for block ".concat(this.blockId))},bindEvents:function(){var t,o,e,n,i,l=this;this.dots.forEach(function(t,o){t.addEventListener("click",function(){l.switchText(o)})}),null===(t=this.nextButton)||void 0===t||t.addEventListener("click",function(){l.nextText()}),null===(o=this.prevPhotoButton)||void 0===o||o.addEventListener("click",function(t){t.stopPropagation(),l.stopPhotoAutoSlide(),l.prevPhoto()}),null===(e=this.nextPhotoButton)||void 0===e||e.addEventListener("click",function(t){t.stopPropagation(),l.stopPhotoAutoSlide(),l.nextPhoto()});var s=this.wrapper.querySelector(".houses-our__photo");s&&s.addEventListener("click",function(t){t.target.closest(".houses-our__photo-arrow")||l.openModal()}),null===(n=this.modalClose)||void 0===n||n.addEventListener("click",function(){l.closeModal()}),null===(i=this.modal)||void 0===i||i.addEventListener("click",function(t){t.target===l.modal&&l.closeModal()}),document.addEventListener("keydown",function(t){var o;"Escape"===t.key&&null!==(o=l.modal)&&void 0!==o&&o.classList.contains("active")&&l.closeModal()})},startPhotoAutoSlide:function(){var t=this;this.photoInterval=setInterval(function(){t.nextPhoto()},12e3)},stopPhotoAutoSlide:function(){this.photoInterval&&(clearInterval(this.photoInterval),this.photoInterval=null)},nextPhoto:function(){this.currentPhotoIndex=(this.currentPhotoIndex+1)%this.photos.length,this.updatePhoto()},prevPhoto:function(){this.currentPhotoIndex=(this.currentPhotoIndex-1+this.photos.length)%this.photos.length,this.updatePhoto()},updatePhoto:function(){var t=this;console.log("Block ".concat(this.blockId,": Updating photo to index ").concat(this.currentPhotoIndex)),this.photos.forEach(function(o,e){o.classList.toggle("active",e===t.currentPhotoIndex)})},switchText:function(t){console.log("Block ".concat(this.blockId,": Switching text to index ").concat(t)),this.currentTextIndex=t,this.updateText(),this.updateDots()},nextText:function(){this.currentTextIndex=(this.currentTextIndex+1)%this.textItems.length,console.log("Block ".concat(this.blockId,": Next text, new index ").concat(this.currentTextIndex)),this.updateText(),this.updateDots()},updateText:function(){var t=this;this.textItems.forEach(function(o,e){o.classList.toggle("active",e===t.currentTextIndex)})},updateDots:function(){var t=this;this.dots.forEach(function(o,e){o.classList.toggle("active",e===t.currentTextIndex)})},openModal:function(){if(console.log("Block ".concat(this.blockId,": Opening modal")),this.modal&&this.modalImage){var t=this.photos[this.currentPhotoIndex];console.log("Block ".concat(this.blockId,": Active photo src:"),t.src),this.modalImage.src=t.src,this.modal.classList.add("active"),document.body.style.overflow="hidden"}else console.log("Block ".concat(this.blockId,": Modal or modalImage not found")),console.log("Modal:",this.modal),console.log("ModalImage:",this.modalImage)},closeModal:function(){this.modal&&(this.modal.classList.remove("active"),document.body.style.overflow="")}}}if(window.addEventListener("resize",l),o(),document.querySelector(".houses-our")){console.log("Houses-our section found, initializing components...");for(var c=[],a=1;a<=3;a++){console.log("Creating component for block ".concat(a,"..."));var d=s(a);d.init(),c.push(d)}console.log("All components initialized:",c.length)}else console.log("Houses-our section not found")}(),window.ENV={YANDEX_MAPS_API_KEY:"6a7442fe-c9c5-4d14-9548-14ce30eb010b"}}();